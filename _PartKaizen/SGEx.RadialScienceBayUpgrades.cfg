//Radial Science Bay Part upgrades

 // Sadly no, the 'moduleIsEnabled' only works for some of the stock PartModules.  I do not have a complete list, but I know at least

    // ModuleGimbal
    // ModuleRCS and ModuleRCSFX
    // ModuleAblator
    // ModuleAlternator
    // ModuleDataTransmitter
    // ModuleGenerator
    // ModuleReactionWheel
    // ModuleResourceIntake
    // ModuleSAS
    // ModuleToggleCrossfeed
 // No it is not possible to add modules through part-upgrades.

// The closest you can come is to add the module to the base part and set it to inactive with a 'moduleIsEnabled= false' in the modules config;  your part upgrade then switches the 'moduleIsEnabled' field in that module to 'true' when the upgrade is applied.

 

// Edit:  Change field name from 'moduleIsActive' to 'moduleIsEnabled'  (never used it, had to look up the proper field name...) 

// 85% size reduction per step
// additional uses for one shots
// increased @interactionRange *= 1.1
// different tree for EACH @xmitDataScalar *= 1.1
// survivability = increased 
	// @maximum_drag *= 1.1
	// @minimum_drag *= 1.1
	// @angularDrag *= 1.1
	// @crashTolerance *= 1.1
	// @breakingForce *= 1.1
	// @breakingTorque *= 1.1
	// @maxTemp = *= 1.05
	// @explosionPotential *= 0.9
	// @thermalMassModifier *= 1.5
	// @heatConductivity *= 1.1
	// @emissiveConstant *= 1.12
	
		// MODULE
	// {
		// name = PartStatsUpgradeModule 
		// showUpgradesInModuleInfo = true
		// UPGRADES
		// {
			// UPGRADE
			// {
				// name__ = KurrikaneReentryHardening
				// description__ = Reentry Hardening (1)
				// PartStats
				// {
					// maxTemp = 1500 // = 2900
				// }
			// }
		// }
	// }
// }

// PARTUPGRADE
// {
	// name = KurrikaneReentryHardening
	// entryCost = 5000
	// title = Reentry Hardening
	// description = Improved skin allows this to be used as a probe from orbit, with the addition of a heat shield
	// cost = 0
	// techRequired = scienceTech
	// partIcon = Sonde
// }


//Oh, because the Definition has no situation-/biomeMask, therefor the experiment is unavailable all the time and the hideUIwhenUnavailable ... nifty!! 

// @PART[*]:HAS[@MODULE[ModuleCommand]]:Final
// {
 // MODULE
 // {
 // name = ModuleScienceExperiment
 // showUpgradesInModuleInfo = true
 // experimentID = deltemp
 // experimentActionName = Temperature Data
 // resetActionName = Delete temperature Data
 // reviewActionName = Validate Temperature Data
 // useStaging = False
 // useActionGroups = false
 // hideUIwhenUnavailable = true
 // xmitDataScalar = 0.5
 // rerunnable = True
 // usageReqMaskInternal = 1
 // //usageReqMaskExternal = 8

 // UPGRADES
 // {
  // UPGRADE
  // {
  // name__ = adtemperatureScan
  // experimentID = temperatureScan
  // useActionGroups = true
  // hideUIwhenUnavailable = false
  // techRequired__ = engineering101
  // }
 // }
 // }

 // MODULE
 // {
 // name = ModuleScienceExperiment
 // showUpgradesInModuleInfo = true
 // experimentID = delbaro
 // experimentActionName = Pressure Data
 // resetActionName = Delete Presure Data
 // reviewActionName = Validate Presure Data
 // useStaging = False
 // useActionGroups = false
 // hideUIwhenUnavailable = true
 // xmitDataScalar = 0.5
 // rerunnable = True
 // usageReqMaskInternal = 1
 // //usageReqMaskExternal = 8

 // UPGRADES
 // {
  // UPGRADE
  // {
  // name__ = adsensorBarometer
  // experimentID = barometerScan
  // useActionGroups = true
  // hideUIwhenUnavailable = false
  // techRequired__ = survivability

  // }
 // }
 // }

 // MODULE
 // {
 // name = ModuleScienceExperiment
 // showUpgradesInModuleInfo = true
 // experimentID = delsezmic
 // experimentActionName = Seismic Data
 // resetActionName = Delete Sesmic Data
 // reviewActionName = Validate Sesmic Data
 // useStaging = False
 // useActionGroups = false
 // hideUIwhenUnavailable = true
 // xmitDataScalar = 0.45
 // dataIsCollectable = True
 // collectActionName = Take Data
 // rerunnable = True
 // usageReqMaskInternal = 1
 // //usageReqMaskExternal = 8

 // UPGRADES
 // {
  // UPGRADE
  // {
  // name__ = adsensorAccelerometer
  // experimentID = seismicScan
  // useActionGroups = true
  // hideUIwhenUnavailable = false
  // techRequired__ = electronics

  // }
 // }
 // }

 // MODULE
 // {
 // name = ModuleScienceExperiment
 // showUpgradesInModuleInfo = true
 // experimentID = delgrav
 // experimentActionName = Gravity Data
 // resetActionName = Delete Gravity Data
 // reviewActionName = Validate Gravity Data
 // useStaging = False
 // useActionGroups = false
 // hideUIwhenUnavailable = true
 // xmitDataScalar = 0.4
 // rerunnable = True
 // usageReqMaskInternal = 1
 // //usageReqMaskExternal = 8

 // UPGRADES
 // {
  // UPGRADE
  // {
  // name__ = adsensorGravimeter
  // experimentID = gravityScan
  // useActionGroups = true
  // hideUIwhenUnavailable = false
  // techRequired__ = advScienceTech

  // }
 // }
 // }

 // MODULE
 // {
 // name = ModuleScienceExperiment
 // showUpgradesInModuleInfo = true
 // experimentID = delatmo
 // experimentActionName = Atmosphere Analysis
 // resetActionName = Discard Atmosphere Analysis Data
 // reviewActionName = Review Atmosphere Analysis Data
 // useStaging = False
 // useActionGroups = false
 // hideUIwhenUnavailable = true
 // xmitDataScalar = 0.6
 // rerunnable = True
 // usageReqMaskInternal = 1

 // UPGRADES
 // {
  // UPGRADE
  // {
  // name__ = adsensorAtmosphere
  // experimentID = atmosphereAnalysis
  // useActionGroups = true
  // hideUIwhenUnavailable = false
  // techRequired__ = scienceTech

  // }
 // }
 // }
// }

// //--uprades techtree
// PARTUPGRADE
// {
 // name = adtemperatureScan
 // partIcon = sensorThermometer
 // techRequired = engineering101
 // entryCost = 2500
 // title = pod Upgrade
 // description = add termometer to pod
// }
// PARTUPGRADE
// {
 // name = adsensorBarometer
 // partIcon = sensorBarometer
 // techRequired = survivability
 // entryCost = 2200
 // title = pod Upgrade
 // description = add barometer to pod
// }
// PARTUPGRADE
// {
 // name = adsensorAccelerometer
 // partIcon = sensorAccelerometer
 // techRequired = electronics
 // entryCost = 8200
 // title = pod Upgrade
 // description = add accelerometer to pod
// }
// PARTUPGRADE
// {
 // name = adsensorGravimeter
 // partIcon = sensorGravimeter
 // techRequired = advScienceTech
 // entryCost = 12200
 // title = pod Upgrade
 // description = add gravimeter to pod
// }
// PARTUPGRADE
// {
 // name = adsensorAtmosphere
 // partIcon = sensorAtmosphere
 // techRequired = scienceTech
 // entryCost = 12200
 // title = pod Upgrade
 // description = add atmosensor to pod
// }

// //--experiment def.//fix NRE
// EXPERIMENT_DEFINITION
// {
 // id = deltemp
 // baseValue = 0
 // scienceCap = 0 
// }
// EXPERIMENT_DEFINITION
// {
 // id = delbaro
 // baseValue = 0
 // scienceCap = 0 
// }
// EXPERIMENT_DEFINITION
// {
 // id = delsezmic
 // baseValue = 0
 // scienceCap = 0 
// }
// EXPERIMENT_DEFINITION
// {
 // id = delgrav
 // baseValue = 0
 // scienceCap = 0 
// }
// EXPERIMENT_DEFINITION
// {
 // id = delatmo
 // baseValue = 0
 // scienceCap = 0 
// } 

				// moduleIsEnabled = False

@PART[SGEx_ScienceBox_mk1]:FOR[SGEx]
{
	MODULE
	{
		name = ModuleEnviroSensor
		sensorType = TEMP
	}

	MODULE
	{
		name = ModuleEnviroSensor
		sensorType = PRES
	}

	MODULE
	{
		name = ModuleEnviroSensor
		sensorType = ACC
	}

	MODULE
	{
		name = ModuleEnviroSensor
		sensorType = GRAV
		moduleIsEnabled = False
	}

	name = PartStatsUpgradeModule 
	showUpgradesInModuleInfo = true
	UPGRADES
	{
		UPGRADE
		{
			name__ = Thermometer
			description__ = PartStats
			techRequired__ = engineering101
			IsExclusiveUpgrade__ = true
			PartStats
			{
				name = ScienceBox_mk2
				title = Radial Science Bay mkII upgrade, Thermometer
				description = Like a tricorder, but better!
				entryCost = 5000
				cost = 900
				mass = 0.005
			}
			MODULE
			{
				name = ModuleScienceExperiment
				experimentID = temperatureScan
				experimentActionName = Log Temperature Data
				resetActionName = Delete Temperature Data
				useStaging = False
				useActionGroups = True
				hideUIwhenUnavailable = False
				xmitDataScalar = 0.5
				dataIsCollectable = True
				collectActionName = Take Temperature Data
				interactionRange = 1.2
				rerunnable = True
				usageReqMaskInternal = 1
				usageReqMaskExternal = 8
			}
		}
		UPGRADE
		{
			name__ = Pressure
			description__ = 
			@name = ScienceBox_mk3
			@title = Radial Science Bay mkIII upgrade, Barometer
			@description = Like a tricorder, but better!
			@entryCost = 5000
			@cost += 880
			@mass += 0.005
			@TechRequired = survivability


			MODULE
			{
				name = ModuleScienceExperiment
				experimentID = barometerScan
				experimentActionName = Log Pressure
				resetActionName = Delete Pressure Data
				useStaging = False
				useActionGroups = True
				hideUIwhenUnavailable = False
				xmitDataScalar = 0.5
				dataIsCollectable = True
				collectActionName = Take Pressure Data
				interactionRange = 1.2
				rerunnable = True
				usageReqMaskInternal = 1
				usageReqMaskExternal = 8
			}
		}
		UPGRADE
		{
			name__ = GOO
			description__ = 
			
			@name = ScienceBox_mk4
			@title = Radial Science Bay mkIV upgrade, Materials Bay
			@description = Like a tricorder, but better!
			@entryCost = 10000
			@cost += 1800
			@mass += 0.2
			@TechRequired = basicScience
			
			MODULE
			{
				name = ModuleScienceExperiment
				TechRequired = basicScience
				experimentID = mobileMaterialsLab
				experimentActionName = Observe Materials Bay
				resetActionName = Reset Materials Bay
				useStaging = False
				useActionGroups = True
				hideUIwhenUnavailable = True
				xmitDataScalar = 0.2
				FxModules = 0
				dataIsCollectable = True
				collectActionName = Collect Materials Data
				interactionRange = 1.2
			}
		}
		UPGRADE
		{
			name__ = GOO
			description__ = 
			@name = ScienceBox_mk5
			@title = Radial Science Bay mkV upgrade, Seismic and Atmosphere
			@description = Like a tricorder, but better!
			@entryCost = 50000
			@cost += 12000
			@mass += 0.01
			@TechRequired = scienceTech

			MODULE
			{
				name = ModuleScienceExperiment
				experimentID = seismicScan
				experimentActionName = Log Seismic Scan
				resetActionName = Delete Seismic Data
				useStaging = False
				useActionGroups = True
				hideUIwhenUnavailable = False
				xmitDataScalar = 0.5
				dataIsCollectable = True
				collectActionName = Take Seismic Data
				interactionRange = 1.2
				rerunnable = True
				usageReqMaskInternal = 1
				usageReqMaskExternal = 8
			}


			MODULE
			{
				name = ModuleScienceExperiment
				experimentID = atmosphereAnalysis
				experimentActionName = Log Atmospheric Scan
				resetActionName = Delete Atmospheric Data
				useStaging = False
				useActionGroups = True
				hideUIwhenUnavailable = False
				xmitDataScalar = 0.6
				dataIsCollectable = True
				collectActionName = Take Atmospheric Data
				interactionRange = 1.5
				rerunnable = True
				usageReqMaskInternal = 1
				usageReqMaskExternal = 8
				reviewActionName = Review Data
			}
		}
		UPGRADE
		{
			name__ = GOO
			description = 
			MODULE
			{
			
			}
		}
		UPGRADE
		{
			name__ = GOO
			description__ = 
			@name = ScienceBox_mk6
			@title = Radial Science Bay mkVI upgrade, Gravity
			@description = Like a tricorder, but better!
			@entryCost = 45000
			@cost += 8800
			@mass += 0.005
			@TechRequired = advScienceTech
		}
			MODULE
			{
				name = ModuleScienceExperiment
				experimentID = gravityScan
				experimentActionName = Log Gravity Data
				resetActionName = Delete Gravity Data
				useStaging = False
				useActionGroups = True
				hideUIwhenUnavailable = False
				xmitDataScalar = 0.4
				dataIsCollectable = True
				collectActionName = Take Gravity Data
				interactionRange = 1.2
				rerunnable = True
				usageReqMaskInternal = 1
				usageReqMaskExternal = 8
			}
		}